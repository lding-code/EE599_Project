!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-monaco-editor",["exports","@angular/core","@angular/forms","rxjs","@angular/common"],t):t((e=e||self)["ngx-monaco-editor"]={},e.ng.core,e.ng.forms,e.rxjs,e.ng.common)}(this,(function(e,t,o,i,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)};function s(e,t){function o(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function d(e,t,o,i){var n,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,i);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(s=(r<3?n(s):r>3?n(t,o,s):n(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}function a(e,t){return function(o,i){t(o,i,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var u,p=!1,l=function(){function e(e){this.config=e,this.onInit=new t.EventEmitter}return e.prototype.ngAfterViewInit=function(){var e=this;p?u.then((function(){e.initMonaco(e._options)})):(p=!0,u=new Promise((function(t){var o=e.config.baseUrl||"./assets";if("object"!=typeof window.monaco){var i=function(){window.require.config({paths:{vs:o+"/monaco/vs"}}),window.require(["vs/editor/editor.main"],(function(){"function"==typeof e.config.onMonacoLoad&&e.config.onMonacoLoad(),e.initMonaco(e._options),t()}))};if(window.require)i();else{var n=document.createElement("script");n.type="text/javascript",n.src=o+"/monaco/vs/loader.js",n.addEventListener("load",i),document.body.appendChild(n)}}else t()})))},e.prototype.ngOnDestroy=function(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)},d([t.ViewChild("editorContainer",{static:!0}),c("design:type",t.ElementRef)],e.prototype,"_editorContainer",void 0),d([t.Output(),c("design:type",Object)],e.prototype,"onInit",void 0),e}(),f=new t.InjectionToken("NGX_MONACO_EDITOR_CONFIG"),h=function(e){function n(t,o){var i=e.call(this,o)||this;return i.zone=t,i.editorConfig=o,i._value="",i.propagateChange=function(e){},i.onTouched=function(){},i}var r;return s(n,e),r=n,Object.defineProperty(n.prototype,"options",{get:function(){return this._options},set:function(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"model",{set:function(e){this.options.model=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),n.prototype.writeValue=function(e){var t=this;this._value=e||"",setTimeout((function(){t._editor&&!t.options.model&&t._editor.setValue(t._value)}))},n.prototype.registerOnChange=function(e){this.propagateChange=e},n.prototype.registerOnTouched=function(e){this.onTouched=e},n.prototype.initMonaco=function(e){var t=this,o=!!e.model;if(o){var n=monaco.editor.getModel(e.model.uri||"");n?(e.model=n,e.model.setValue(this._value)):e.model=monaco.editor.createModel(e.model.value,e.model.language,e.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,e),o||this._editor.setValue(this._value),this._editor.onDidChangeModelContent((function(e){var o=t._editor.getValue();t.zone.run((function(){t.propagateChange(o),t._value=o}))})),this._editor.onDidBlurEditorWidget((function(){t.onTouched()})),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=i.fromEvent(window,"resize").subscribe((function(){return t._editor.layout()})),this.onInit.emit(this._editor)},n.ctorParameters=function(){return[{type:t.NgZone},{type:void 0,decorators:[{type:t.Inject,args:[f]}]}]},d([t.Input("options"),c("design:type",Object),c("design:paramtypes",[Object])],n.prototype,"options",null),d([t.Input("model"),c("design:type",Object),c("design:paramtypes",[Object])],n.prototype,"model",null),n=r=d([t.Component({selector:"ngx-monaco-editor",template:'<div class="editor-container" #editorContainer></div>',providers:[{provide:o.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return r})),multi:!0}],styles:["\n    :host {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container {\n      width: 100%;\n      height: 98%;\n    }\n  "]}),a(1,t.Inject(f)),c("design:paramtypes",[t.NgZone,Object])],n)}(l),g=function(e){function o(t){var o=e.call(this,t)||this;return o.editorConfig=t,o}return s(o,e),Object.defineProperty(o.prototype,"options",{get:function(){return this._options},set:function(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"originalModel",{set:function(e){this._originalModel=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"modifiedModel",{set:function(e){this._modifiedModel=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),o.prototype.initMonaco=function(e){var t=this;if(!this._originalModel||!this._modifiedModel)throw new Error("originalModel or modifiedModel not found for ngx-monaco-diff-editor");this._originalModel.language=this._originalModel.language||e.language,this._modifiedModel.language=this._modifiedModel.language||e.language;var o=monaco.editor.createModel(this._originalModel.code,this._originalModel.language),n=monaco.editor.createModel(this._modifiedModel.code,this._modifiedModel.language);this._editorContainer.nativeElement.innerHTML="";var r=e.theme;this._editor=monaco.editor.createDiffEditor(this._editorContainer.nativeElement,e),e.theme=r,this._editor.setModel({original:o,modified:n}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=i.fromEvent(window,"resize").subscribe((function(){return t._editor.layout()})),this.onInit.emit(this._editor)},o.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[f]}]}]},d([t.Input("options"),c("design:type",Object),c("design:paramtypes",[Object])],o.prototype,"options",null),d([t.Input("originalModel"),c("design:type",Object),c("design:paramtypes",[Object])],o.prototype,"originalModel",null),d([t.Input("modifiedModel"),c("design:type",Object),c("design:paramtypes",[Object])],o.prototype,"modifiedModel",null),o=d([t.Component({selector:"ngx-monaco-diff-editor",template:'<div class="editor-container" #editorContainer></div>',styles:["\n    :host {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container {\n      width: 100%;\n      height: 98%;\n    }\n  "]}),a(0,t.Inject(f)),c("design:paramtypes",[Object])],o)}(l),m=function(){function e(){}var o;return o=e,e.forRoot=function(e){return void 0===e&&(e={}),{ngModule:o,providers:[{provide:f,useValue:e}]}},e=o=d([t.NgModule({imports:[n.CommonModule],declarations:[h,g],exports:[h,g]})],e)}();e.DiffEditorComponent=g,e.EditorComponent=h,e.MonacoEditorModule=m,e.NGX_MONACO_EDITOR_CONFIG=f,e.Éµa=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-monaco-editor.umd.min.js.map